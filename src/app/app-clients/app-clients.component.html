<div class="Loanchart-title">
    <h2>Customers</h2>
</div>

<!-- <div class="Loanchart-chatAcct">

</div> -->

<div class="loan-list">

    <!-- <div>
        <h2>Loan Requests</h2>
    </div> -->

    <div style="overflow:auto;overflow-x:auto;" class="CoverTable">
        <div class="TableHeader">
            <div class="TableHeader_Item1">
                <h6>List of Loan applications ({{this.appDashboard.ClientNetPays.length ?? 0}})</h6>
            </div>

            <div class="TableHeader_Item3">

            </div>

            <div class="TableHeader_Item55">
                <label for="Search"><span class="p-size">Search</span> </label>
                <input (keydown.enter)="this.appDashboard.onSearchPress($event, $event.target)" (keyup.enter)="this.appDashboard.onSearchPress($event, $event.target)" (keypress.enter)="this.appDashboard.onSearchPress($event, $event.target)" name="Search" type="text"
                    [(ngModel)]="this.appDashboard.Search" value="{{this.appDashboard.Search}}" placeholder="Type and hit enter key" class="NewLoanTenure" maxlength="{{this.appDashboard.MaxSearchLength}}" />
            </div>
        </div>
        <div class="TableHeader">
            <div class="TableHeader_Item1">
                <label for="MaxRetrival">
                    <span class="p-size">Row Per Page</span>
                </label>
                <select (change)="this.appDashboard.onMaxRetrival($event)" [(ngModel)]="this.appDashboard.MaxRetrival" name="MaxRetrival" class="MaxRetrival" required>
                    <!-- <option value="0">All</option> -->
                    <option *ngFor="let item of this.appDashboard.MaxRetrieverList" value="{{item.No}}">{{item.No}}</option> 
                </select>
            </div>

            <div class="TableHeader_Item3">
                <label for="DataStatus">
                    <span class="p-size">Status</span>
                </label>
                <select (change)="this.appDashboard.onStatusRetrival($event)" [(ngModel)]="this.appDashboard.DataStatus" name="DataStatus" class="DataStatus" required>
                    <option value="All">All</option>
                    <option value="Success">Success</option>
                    <option value="Not Active">Not Active</option>
                    <option value="Active">Active</option>
               </select>
            </div>

            <div class="TableHeader_Item5">

            </div>
            <!--  [value]="this.appDashboard.FromDate"  [value]="this.appDashboard.ToDate" | date:'MM/dd/yyyy' | date:'yyyy/mm/dd' (input)="this.appDashboard.ToDate = this.appDashboard.ParseDate($event)" -->
            <div class="TableHeader_Item4">
                <label for="FromDate">
                 <span class="p-size">Date From</span>  
                 <input name="FromDate" type="Date" (ngModelChange)="this.appDashboard.onDateFromChange($event)" [(ngModel)]="this.appDashboard.FromDateValue"   placeholder="Date From" class="NewLoanTenure" />
                </label>

                <label for="FromDate" style="margin-left: 10px;">
                    <span class="p-size">Date To</span> 
                    <input name="ToDate" type="Date" (ngModelChange)="this.appDashboard.onDateToChange($event)" [(ngModel)]="this.appDashboard.ToDateValue"   placeholder="Date To" class="NewLoanTenure" />
                 </label>
                <button class="SearchButton" (click)="this.appDashboard.onSearchButton($event)">Search</button>
            </div>
        </div>
        <div>
            <table id="paginationFull" class="table" width="100%">
                <thead>
                    <tr>
                        <th class="th-sm">
                            No
                        </th>
                        <th class="th-sm">
                            First Name
                        </th>

                        <th class="th-sm">
                            Middle Name
                        </th>
                        <th class="th-sm">
                            Last Name
                        </th>
                        <th class="th-sm">
                            Phone Number
                        </th>
                        <th class="th-sm">
                            Email Address
                        </th>
                        <th class="th-sm">
                            Gender
                        </th>
                        <th class="th-sm" [width]="100">
                            Status
                        </th>
                        <th class="th-sm">
                            Created Date
                        </th>
                        <th *ngIf="this.LoginUserPermission!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=null && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan"
                            class="th-sm">
                        </th>
                        <th *ngIf="this.LoginUserPermission!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=null && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan"
                            class="th-sm">
                        </th>
                    </tr>
                </thead>
                <tbody *ngIf="this.appDashboard.ClientNetPays!=null && this.appDashboard.ClientNetPays!=undefined">
                    <tr *ngFor="let item of this.appDashboard.ClientNetPays" style="margin-top:10px;margin-bottom:10px;">
                        <td>{{item.no}}</td>
                        <td>{{item.firstName}}</td>
                        <td>{{item.middleName}}</td>
                        <td>{{item.lastName}}</td>
                        <td>{{item.phoneNumber}}</td>
                        <td>{{item.emailAddress}}</td>
                        <td>{{item.gender}}</td>
                        <td style="width: 100px;" *ngIf="item.status=='Active'"><span style="padding-top:5px;padding-bottom:5px;padding-left:5px;padding-right:5px;background-color: #d6f0e0; color: #0d6832;border-radius:20px;font-size:10px;margin-left: 5px;margin-right: 5px;">{{item.status}}</span></td>
                        <td style="width: 100px;" *ngIf="item.status=='Not Active'"><span style="padding-top:5px;padding-bottom:5px;padding-left:5px;padding-right:5px;background-color: #f9e1e5; color: #af233a;border-radius:20px;font-size:10px;margin-left: 5px;margin-right: 5px;">{{item.status}}</span></td>
                        <td>{{item.createdDate}}</td>

                        <td *ngIf="this.LoginUserPermission!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=null && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan && item.status=='Not Active'">
                            <a (click)="onOpenActivateCustomer(item.id)" style="padding-top:5px;padding-bottom:5px;padding-left:5px;padding-right:5px;color:#0517d9;border-radius:20px;font-size:15px;margin-left: 5px;margin-right: 5px;cursor: pointer;text-decoration: underline;" routerLinkActive="router-link-active">Enable</a>
                        </td>

                        <td *ngIf="this.LoginUserPermission!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=null && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan && item.status=='Active'">
                            <a (click)="onOpenActivateCustomer(item.id)" style="padding-top:5px;padding-bottom:5px;padding-left:5px;padding-right:5px;color:#0517d9;border-radius:20px;font-size:15px;margin-left: 5px;margin-right: 5px;cursor: pointer;text-decoration: underline;" routerLinkActive="router-link-active">Disable</a>
                        </td>

                        <td *ngIf="this.LoginUserPermission!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=null && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan!=undefined && this.LoginUserPermission.AccessRighttodisablecustomerstoapplyforaloan && item.status=='Active'">
                            <a (click)="ViewCustomerProfile(item.id)" style="padding-top:5px;padding-bottom:5px;padding-left:5px;padding-right:5px;color:#0517d9;border-radius:20px;font-size:15px;margin-left: 5px;margin-right: 5px;cursor: pointer;text-decoration: underline;" routerLinkActive="router-link-active">View Profile</a>
                        </td>

                        <!-- <a ngif="item.status==='Success
                            '" style="padding-top:5px;padding-bottom:5px;padding-left:5px;padding-right:5px;background-color:#af1e0bca;color:#ffffff;border-radius:20px;font-size:10px;margin-left: 5px;margin-right: 5px;" [routerLink]="['/forgetpwrd ', { AccountId: item.accountId , PFNumber: item.pfNumber}]"
                                routerLinkActive="router-link-active">Enable</a> -->
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="TableFooter">
            <div class="TableFooter_Item1">
                <label for="MaxRetrival">
                <span class="p-size">Showing 
                    {{this.appDashboard.ShowPageStart}} to {{this.appDashboard.ShowPageEnd}} of {{this.appDashboard.ShowPageTotal}} entries
                </span>
                </label>
                <!-- <select (change)="this.appDashboard.onMaxRetrival($event)" [(ngModel)]="this.appDashboard.MaxRetrival" name="MaxRetrival" class="MaxRetrival" required>
                    <option value="0">All</option>
                    <option *ngFor="let item of this.appDashboard.MaxRetrieverList" value="{{item.No}}">{{item.No}}</option>         
                </select> -->
            </div>

            <div *ngIf="this.appDashboard.ResponseData.dataLoad!=null && this.appDashboard.ResponseData.dataLoad.loopPageModes!=null" class="TableFooter_Item5">
                <ul *ngIf="this.appDashboard.ResponseData.dataLoad.loopPageModes.length > 0" class="ul-Pagenations">
                    <li class="li-Pagenations">
                        <span class="pagenation-min-no">{{this.appDashboard.ResponseData.dataLoad.lastSelectedNumber}}</span>
                    </li>
                    <li class="li-Pagenations">
                        <span class="pagenation-min-click">
                            <button style="background-color: rgb(59, 138, 111);color: #ffffff;" (click)="this.appDashboard.onPreviousPagenationClick(0, this.appDashboard.ResponseData.dataLoad)" *ngIf="this.appDashboard.ResponseData.dataLoad.hasPreviousPagenation">Previous</button>
                        </span>
                    </li>

                    <!-- {{item.selectedNumber}} -->
                    <!-- (click)="this.appDashboard.onPagenationClick(i, item)" -->

                    <!-- <li *ngFor="let item of this.appDashboard.ResponseData.dataLoad.pageModes; let i = index" class="li-Pagenations">
                        <button>{{this.appDashboard.ResponseData.dataLoad.pageModes[i].selectedNumber}}</button>
                    </li> -->

                    <li *ngFor='let item of this.appDashboard.ResponseData.dataLoad.loopPageModes ' class="li-Pagenations">
                        <button *ngIf="item.isSelected==false" style="background-color: rgba(59, 138, 110, 0.331);color: #000000;" (click)="this.appDashboard.onPagenationClick(0, item)">{{item.selectedNumber}}</button>
                        <button *ngIf="item.isSelected" class="blackbutton" style="background-color: rgb(59, 138, 111);color: #ffffff;" (click)="this.appDashboard.onPagenationClick(0, item)">{{item.selectedNumber}}</button>
                    </li>

                    <li class="li-Pagenations">
                        <span class="pagenation-max-click"><button style="background-color: rgb(59, 138, 111);color:#ffffff;" (click)="this.appDashboard.onNextPagenationClick(0, this.appDashboard.ResponseData.dataLoad)"  *ngIf="this.appDashboard.ResponseData.dataLoad.hasNextPagenation">Next</button></span>
                    </li>

                    <li class="li-Pagenations">
                        <span class="pagenation-max-no">{{this.appDashboard.ResponseData.dataLoad.totalSelectedNumber}}</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<app-spinner-loading></app-spinner-loading>
<router-outlet></router-outlet>